services:
  tftp-server:
    build:
      context: ./tftp-server
      dockerfile: Dockerfile
    ports:
      - 69:69/udp
    volumes:
      - ./tftp-server/tftpd-hpa:/etc/default/tftpd-hpa
    restart: always

  http-server:
    image: nginx:latest
    ports:
      - 80:80
    volumes:
      - ./http-server/nginx.conf:/etc/nginx/nginx.conf
      - ./http-server/files:/var/www/html/
    restart: always

# networks:
#   pxe-network:
#     driver: bridge
#     ipam:
#       config:
#         - subnet: 172.20.0.0/16

# volumes:
#   tftp-data:
#   http-data: